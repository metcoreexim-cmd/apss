if(!customElements.get("testimonials-component")){class Testimonials extends HTMLElement{constructor(){super()}connectedCallback(){this.selectors={sliderWrapper:".testimonials__items",pagination:".swiper-pagination",nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},this.classes={grid:"f-grid",swiper:"swiper",swiperWrapper:"swiper-wrapper"},this.sectionId=this.dataset.sectionId,this.section=this.closest(`.section-${this.sectionId}`),this.sliderWrapper=this.querySelector(this.selectors.sliderWrapper),this.enableSlider=this.dataset.enableSlider==="true",this.items=parseInt(this.dataset.items),this.laptopItems=parseInt(this.dataset.laptopItems),this.tabletItems=parseInt(this.dataset.tabletItems),this.layout=this.dataset.layout,this.swipeMobile=this.dataset.swipeMobile==="true",this.sliderInstance=!1,this.enableSlider&&(this.init(),document.addEventListener("matchMobile",()=>{this.init()}),document.addEventListener("unmatchMobile",()=>{this.init()}))}get paginationType(){return this.dataset.paginationType}init(){FoxTheme.config.mqlMobile&&this.swipeMobile?this.destroySlider():this.initSlider()}initSlider(){const columnGap=window.getComputedStyle(this.sliderWrapper).getPropertyValue("--f-column-gap"),columnGapMobile=window.getComputedStyle(this.sliderWrapper).getPropertyValue("--f-column-gap-mobile"),spaceBetween=parseFloat(columnGap.replace("rem",""))*10,spaceBetweenMobile=parseFloat(columnGapMobile.replace("rem",""))*10;let additionModules=[],slideToMethod="slideTo";this.defaultOptions={slidesPerView:1,spaceBetween,navigation:{nextEl:this.section.querySelector(this.selectors.nextEl),prevEl:this.section.querySelector(this.selectors.prevEl)},pagination:!1,breakpoints:{768:{slidesPerView:this.tabletItems>3?3:this.tabletItems},1024:{slidesPerView:this.laptopItems>3?3:this.laptopItems},1280:{slidesPerView:this.items}},loop:!1,threshold:2},this.layout==="focused"?(slideToMethod="slideToLoop",this.settings={centeredSlides:!0,spaceBetween:spaceBetweenMobile,pagination:{el:this.section.querySelector(this.selectors.pagination),clickable:!0,type:this.paginationType},loop:!0,breakpoints:{768:{slidesPerView:2,spaceBetween},1280:{slidesPerView:Math.max(2,this.getSlidesPerViewCentered(this.laptopItems)),spaceBetween},1440:{slidesPerView:Math.max(2,this.getSlidesPerViewCentered(this.items)),spaceBetween}}}):(additionModules.push(FoxTheme.Swiper.Mousewheel),this.settings={mousewheel:{enabled:!0,forceToAxis:!0,thresholdDelta:10,thresholdTime:100}}),typeof this.sliderInstance!="object"&&(this.classList.add(this.classes.swiper),this.sliderWrapper.classList.remove(this.classes.grid),this.sliderWrapper.classList.add(this.classes.swiperWrapper),this.sliderInstance=new window.FoxTheme.Carousel(this,{...this.defaultOptions,...this.settings},additionModules),this.sliderInstance.init(),FoxTheme.a11y.getFocusableElements(this).forEach(element=>{element.addEventListener("focusin",()=>{const slide=element.closest(".swiper-slide");this.sliderInstance.slider[slideToMethod](this.sliderInstance.slider.slides.indexOf(slide))})})),Shopify.designMode&&typeof this.sliderInstance=="object"&&document.addEventListener("shopify:block:select",e=>{if(e.detail.sectionId!=this.sectionId)return;let{target}=e;const index=Number(target.dataset.index);this.sliderInstance.slider[slideToMethod](index)})}destroySlider(){this.classList.remove(this.classes.swiper),this.sliderWrapper.classList.remove(this.classes.swiperWrapper),this.sliderWrapper.classList.add(this.classes.grid),typeof this.sliderInstance=="object"&&(this.sliderInstance.slider.destroy(),this.sliderInstance=!1)}getSlidesPerViewCentered(number){return number%2!==0?number-1:number}}customElements.define("testimonials-component",Testimonials)}if(!customElements.get("testimonial-layered")){class TestimonialLayered extends HTMLElement{constructor(){super()}connectedCallback(){this.hoverToOpen=!!(this.trigger==="hover"&&window.matchMedia("(hover: hover)").matches),this.hoverToOpen&&(this.addEventListener("mouseenter",this.handleMouseOver.bind(this)),this.addEventListener("mouseleave",this.handleMouseLeave.bind(this))),this._open=this.hasAttribute("open"),this.header=this.querySelector(".testimonial__header"),this.text=this.querySelector(".testimonial__text"),this.content=this.querySelector(".testimonial__content"),this.summary=this.querySelector(".testimonial__summary"),this.testimonialInner=this.querySelector(".testimonial__inner"),this.header&&this.header.addEventListener("click",this.handleClick.bind(this)),document.addEventListener("click",this.handleOutsideClick.bind(this))}disconnectCallback(){this.header&&this.header.removeEventListener("click",this.handleClick.bind(this)),document.removeEventListener("click",this.handleOutsideClick.bind(this))}set open(value){value!==this._open&&(this._open=value,value?this.setAttribute("open",""):this.removeAttribute("open"))}get open(){return this._open}get trigger(){return this.hasAttribute("data-trigger")?this.getAttribute("data-trigger"):"click"}handleClick(event){event.preventDefault(),this.open=!this.open,this.toggleColor(),this.toggleContentOverflow()}handleOutsideClick(event){this.testimonialInner.contains(event.target)||(this.open=!1),this.toggleColor(),this.toggleContentOverflow()}handleMouseOver(e){this.open=!0,this.hoverTimeout=setTimeout(()=>{this.text.getBoundingClientRect().height>this.content.getBoundingClientRect().height&&this.content.classList.add("overflow-auto")},600),this.toggleColor()}handleMouseLeave(e){this.open=!1,clearTimeout(this.hoverTimeout),this.content.classList.remove("overflow-auto"),this.toggleColor()}toggleColor(){const{colorScheme,contentColorScheme}=this.dataset;this.testimonialInner.classList.toggle(contentColorScheme,this.open),this.testimonialInner.classList.toggle(colorScheme,!this.open)}toggleContentOverflow(){if(!this.content||!this.text)return;const activeTimeOut=setTimeout(()=>{(this.open?this.text.getBoundingClientRect().height>this.content.getBoundingClientRect().height:!1)&&this.content.classList.add("overflow-auto")},600);this.open||(clearTimeout(activeTimeOut),this.content.classList.remove("overflow-auto"))}}customElements.define("testimonial-layered",TestimonialLayered)}
//# sourceMappingURL=/cdn/shop/t/95/assets/testimonial.js.map?v=98072741812298679881759247759
