!function(){var t={width:"",init:function(){let t=window.location.pathname,e=t.indexOf("/products/");if(e>-1){var i=t.substring(e+10);let s=i.indexOf("?");s>-1&&(i=i.substring(0,s));var r=0;"undefined"!=typeof ShopifyAnalytics&&void 0!==ShopifyAnalytics.meta&&void 0!==ShopifyAnalytics.meta.product&&void 0!==ShopifyAnalytics.meta.product.id&&(r=ShopifyAnalytics.meta.product.id),this.getData(i,r)}},getData:async function(t="",e){var r=this;if("undefined"!=typeof Shopify){""!=Shopify.shop&&fetch("/Apss/easysale/settings?product="+t+"&x-api-key=273a7392-eb76-4b22-ac2b-cf45c63d2b53").then(function(t){return t.json()}).then(async function(t){if(r.settings=t.settings,""===t.sale_id&&e>0&&await fetch("/Apss/easysale/settings?product=pid"+e+"&x-api-key=273a7392-eb76-4b22-ac2b-cf45c63d2b53").then(function(t){return t.json()}).then(function(e){t=e}),t.sale_id>0){new Date;var s=t.settings.sales_data[t.sale_id];if(r.data_end="","schedule"==s.type)r.data_end=s.end.substr(0,4)+"-"+s.end.substr(4,2)+"-"+s.end.substr(6,2)+"T"+s.end.substr(8,2)+":"+s.end.substr(10,2)+":00";else if("weekly"==s.type||"mounthly"==s.type){let t=parseInt(s.start.substr(6,2)),e=60*parseInt(s.start.substr(8,2))+parseInt(s.start.substr(10,2)),i=parseInt(s.end.substr(6,2)),a=60*parseInt(s.end.substr(8,2))+parseInt(s.end.substr(10,2)),n=60*(new Date).getTimezoneOffset()*1e3*-1,o=60*r.settings.timezone*60*1e3,l=(new Date).getTime()-n+o,c=new Date(l);if("weekly"==s.type){let s=c.getDay(),n=60*c.getHours()+c.getMinutes(),o=0;o=r.checking_in(t,i,e,a,s,n),r.data_end=r.get_data_end(o,7,t,i,e,a,s,n,l)}else{let s=c.getDate(),n=60*c.getHours()+c.getMinutes(),o=0;o=r.checking_in(t,i,e,a,s,n);let d=new Date(l),u=d.getMonth()+1,p=d.getFullYear(),m=new Date(p,u,0).getDate();r.data_end=r.get_data_end(o,m,t,i,e,a,s,n,l)}}if(""!=r.data_end){if("custom"==r.settings.timer_settings.timer_position){var a=document.getElementsByTagName("body")[0];r.replace_code(a)}else{var n,o,l,c,d,u,p,m=0,_=0;if("Minimal"==Shopify.theme.name)c=".product-single__prices",d=".product-single__policies",u=".product-description";else if("Simple"==Shopify.theme.name)c=".product-single__prices",d=".product-single__policies",u=".product-single__description";else if("Debut"==Shopify.theme.name)c=".product__price",d=".product__policies",u=".product-single__description";else if("Supply"==Shopify.theme.name)c=".inline-list.product-meta",d=".product__policies",u=".product-description";else if("Narrative"==Shopify.theme.name)c=".product__price",d=".product__policies",u=".product__description",m=1;else if("Venture"==Shopify.theme.name)c=".product-single__price-container",d=".product-single__policies",u=".product-single__description";else if("Express"==Shopify.theme.name)c=".price",d=".product__policies",u=".product__description";else if("Brooklyn"==Shopify.theme.name)c=".price-container",d=".product-single__policies",u=".product-single__description";else if("Boundless"==Shopify.theme.name)c=".product__price",d=".product__policies",u=".product-single__description";else if("Sense"==Shopify.theme.name||"Crave"==Shopify.theme.name||"Craft"==Shopify.theme.name||"Dawn"==Shopify.theme.name)c=".price",d=".product__tax",u=".product__description";else if("Fabric"==Shopify.theme.name)c="div:has(> product-price)",d=".product__tax",u="div:has(> accordion-custom > details)";else if("Dwell"==Shopify.theme.name||"Atelier"==Shopify.theme.name)c="product-price",d=".product__tax",u="div:has(> accordion-custom > details)";else if("Vessel"==Shopify.theme.name||"Ritual"==Shopify.theme.name)c="div:has(> product-price)",d=".product__tax",u="rte-formatter",r.width="100%";else if("Savor"==Shopify.theme.name||"Tinker"==Shopify.theme.name)c="product-price",d=".product__tax",u="rte-formatter";else if("Pitch"==Shopify.theme.name||"Heritage"==Shopify.theme.name)c="product-price",d=".product__tax",u="rte-formatter",r.width="100%";else if("Horizon"==Shopify.theme.name)c="product-price",d=".product__tax",u="div:has(> variant-picker) > rte-formatter",r.width="100%";else{for(select_price_array=["#ProductPrice","#product-price",".win_price",".shopify-variation-price",".ProductMeta__PriceList",".product-single__price-product-template",".product-pricing",".price-wrapper",".product-prices",".product__price",".price-container",".product-single__price-container",".product-single__prices",".product-price",".modal_price",".price",".swatches-wrapper",".shop-meta",".selector-wrapper",".prices",".js-prod-price",".price-container",".main-product__block-price",".product-form--price-container"],i=0;i<select_price_array.length&&(p=select_price_array[i],void 0===(n=Array.from(document.querySelectorAll(p))[0]));i++);for(select_price_tax_array=[".product__tax",".product__policies",".product-single__policies",".product-page__policies"],i=0;i<select_price_tax_array.length&&(p=select_price_tax_array[i],void 0===(o=Array.from(document.querySelectorAll(p))[0]));i++);for(void 0===o&&void 0!==n&&(o=n),select_description_array=["#shopify-section-product-page-description",".easytabs-container",".product__description",".product-single__description",".product-description",".description",".desc",".product-rte",".smart-tabs-wrapper",".ProductMeta__Description"],i=0;i<select_description_array.length&&(p=select_description_array[i],void 0===(l=Array.from(document.querySelectorAll(p))[0]));i++);_=1}""!=c&&0==_&&(n=Array.from(document.querySelectorAll(c))[0],void 0===(o=Array.from(document.querySelectorAll(d))[0])&&void 0!==n&&(o=n),l=Array.from(document.querySelectorAll(u))[0]);var g=r.build_div_timer();"below_price"==r.settings.timer_settings.timer_position&&void 0!==o?r.insertAfter(g,o):"above_price"==r.settings.timer_settings.timer_position&&void 0!==n?r.insertBefore(g,n):"above_desc"==r.settings.timer_settings.timer_position&&void 0!==l&&(1==m?r.insertInner(g,l):r.insertBefore(g,l))}!function(){const t=Array.from(document.querySelectorAll(".nm-easysale-timer"));if(0===t.length)return;for(let a=0;a<t.length;a++){const n=null===t[a].getAttribute("data-background-color")?"#f9fafa":t[a].getAttribute("data-background-color"),o=null===t[a].getAttribute("data-text-color")?"#6D7175":t[a].getAttribute("data-text-color"),l=null===t[a].getAttribute("data-secondary-color")?"#919EAB":t[a].getAttribute("data-secondary-color"),c=null===t[a].getAttribute("data-accent-color")?"#BF032F":t[a].getAttribute("data-accent-color"),d=parseInt(null===t[a].getAttribute("data-time-zone")?0:t[a].getAttribute("data-time-zone")),u=null===t[a].getAttribute("data-title")?"Sale ends soon:":t[a].getAttribute("data-title");TIMER_TITLE=null===t[a].getAttribute("data-timer-title")?"Sale ends soon:":t[a].getAttribute("data-timer-title"),TIMER_DAY=null===t[a].getAttribute("data-timer-day")||""==t[a].getAttribute("data-timer-day")?"day":t[a].getAttribute("data-timer-day"),TIMER_DAYS=null===t[a].getAttribute("data-timer-days")||""==t[a].getAttribute("data-timer-days")?"days":t[a].getAttribute("data-timer-days"),TIMER_HOUR=null===t[a].getAttribute("data-timer-hour")||""==t[a].getAttribute("data-timer-hour")?"hour":t[a].getAttribute("data-timer-hour"),TIMER_HOURS=null===t[a].getAttribute("data-timer-hours")||""==t[a].getAttribute("data-timer-hours")?"hours":t[a].getAttribute("data-timer-hours"),TIMER_MINUTE=null===t[a].getAttribute("data-timer-minute")||""==t[a].getAttribute("data-timer-minute")?"minute":t[a].getAttribute("data-timer-minute"),TIMER_MINUTES=null===t[a].getAttribute("data-timer-minutes")||""==t[a].getAttribute("data-timer-minutes")?"minutes":t[a].getAttribute("data-timer-minutes"),TIMER_SEC=null===t[a].getAttribute("data-timer-sec")||""==t[a].getAttribute("data-timer-sec")?"sec":t[a].getAttribute("data-timer-sec"),TIMER_SECS=null===t[a].getAttribute("data-timer-secs")||""==t[a].getAttribute("data-timer-secs")?"secs":t[a].getAttribute("data-timer-secs");var e="";e=e+t[a].getAttribute("data-timer-title-size")===null?"":"font-size: "+t[a].getAttribute("data-timer-title-size")+"px;",null!==t[a].getAttribute("data-timer-title-bold")&&("1"==t[a].getAttribute("data-timer-title-bold")?e+="font-weight: bold;":e+="font-weight: normal;"),null!==t[a].getAttribute("data-timer-title-italic")&&("1"==t[a].getAttribute("data-timer-title-italic")?e+="font-style: italic;":e+="font-style: normal;"),null!==t[a].getAttribute("data-timer-title-center")&&(e+="text-align: "+t[a].getAttribute("data-timer-title-center")),""!=e&&(e="style='"+e+"'");let p="nm-easysale-timer--"+(a+1);t[a].classList.add(p);const m='<h3 class="timer-title" '+e+">"+(null===t[a].getAttribute("data-timer-title")?u:TIMER_TITLE)+'</h3><ul class="timer-list"><li class="timer-item timer-item--days">00</li><li class="timer-item timer-item--hours">00</li><li class="timer-item timer-item--minutes">00</li><li class="timer-item timer-item--seconds">00</li></ul>',_="."+p+'{max-width: 100%; font-family: -apple-system, BlinkMacSystemFont, "San Francisco", Roboto, "Segoe UI", "Helvetica Neue", sans-serif; font-size: 28px !important; font-weight: 500;}.'+p+" .timer-title {color:"+o+";margin: 0 0 20px; font-weight: 500;}."+p+" .timer-list {color:"+o+";background-color:"+n+";display: flex; list-style-type: none; padding: 20px; margin: 0; justify-content: space-between; border-radius: 8px;}."+p+" .timer-item {position: relative;width: 20%;gap: 6%; padding-bottom: 15px; text-align: center; white-space: nowrap; height: 60px;}."+p+" .timer-item::before {color:"+l+";content: attr(data-title);display: block;position: absolute;left: 50%;bottom: 0;transform: translateX(-50%);font-size: 14px;}."+p+" .timer-item:not(:last-child)::after {color:"+l+';content: ":";position: absolute;right: -15px;}.'+p+" .timer-item--days{color:"+c+";}.nm-easysale-timer{margin-top: 20px; margin-bottom: 20px;}@media (min-width: 500px) {."+p+" {max-width: 640px; font-size: 28px !important;}}",g=document.createElement("style");g.type="text/css",g.appendChild(document.createTextNode(_));let f=null;if(t[a].hasAttribute("data-end-date")){let h=Date.parse(t[a].getAttribute("data-end-date")),y=60*(new Date).getTimezoneOffset()*1e3*-1,b=(new Date).getTime();if((h+y-60*d*60*1e3-b)/3600/1e3>0){function i(){let e=window.getComputedStyle(t[a]);parseInt(e.width)>500?t[a].style.fontSize="52px":t[a].style.fontSize="28px"}function r(t,e){return e[1===t?0:1]}t[a].innerHTML=m,t[a].appendChild(g),i(),window.addEventListener("resize",function(){i()});const A=t[a].querySelectorAll(".timer-item--days"),S=t[a].querySelectorAll(".timer-item--hours"),x=t[a].querySelectorAll(".timer-item--minutes"),v=t[a].querySelectorAll(".timer-item--seconds");function s(){let e=(new Date).getTimezoneOffset()/60,i=1e3*(-d-e)*3600;const s=h-new Date+i;s<=0&&(clearInterval(f),t[a].style.display="none");const n=s>0?Math.floor(s/1e3/60/60/24):0,o=s>0?Math.floor(s/1e3/60/60%24):0,l=s>0?Math.floor(s/1e3/60)%60:0,c=s>0?Math.floor(s/1e3)%60:0;var u={day:TIMER_DAY,days:TIMER_DAYS,hour:TIMER_HOUR,hours:TIMER_HOURS,minute:TIMER_MINUTE,minutes:TIMER_MINUTES,sec:TIMER_SEC,secs:TIMER_SECS};"undefined"!=typeof nm_easysale_transfer&&(u=nm_easysale_transfer),A.forEach(function(t){t.textContent=n<10?"0"+n:n,t.dataset.title=r(n,[u.day,u.days])}),S.forEach(function(t){t.textContent=o<10?"0"+o:o,t.dataset.title=r(o,[u.hour,u.hours])}),x.forEach(function(t){t.textContent=l<10?"0"+l:l,t.dataset.title=r(l,[u.minute,u.minutes])}),v.forEach(function(t){t.textContent=c<10?"0"+c:c,t.dataset.title=r(c,[u.sec,u.secs])})}s(),f=setInterval(s,1e3)}}}}()}}})}},checking_in:function(t,e,i,r,s,a){let n=0;return e>t?s>t&&s<e?n=1:s==t?a>=i&&(n=1):s==e&&a<r&&(n=1):e==t?(a>=i&&a<r&&s==t||a>=i&&r<i||r<i&&s!=t)&&(n=1):e<t&&(s>t||s<e?n=1:s==t?a>=i&&(n=1):s==e&&a<r&&(n=1)),n},get_data_end:function(t,e,i,r,s,a,n,o,l){let c=0,d="";if(1==t){r>i?c=24*(r-n)*60+a-o:r==i?c=s<=a?a-o:n<=r?24*(r-n)*60+a-o:24*(e+r-n)*60+a-o:r<i&&(c=n<=r?24*(r-n)*60+a-o:24*(e+r-n)*60+a-o);var u=new Date(l+60*c*1e3);u.setSeconds(0),d=u.toString()}return d},build_div_timer:function(){var t=document.createElement("div");if(t.classList.add("nm-easysale-timer"),t.dataset.endDate=this.data_end,t.dataset.timeZone=this.settings.timezone,t.dataset.backgroundColor=this.settings.timer_settings.background_color,t.dataset.textColor=this.settings.timer_settings.text_color,t.dataset.secondaryColor=this.settings.timer_settings.secondary_color,t.dataset.accentColor=this.settings.timer_settings.accent_color,t.dataset.timerTitleBold=this.settings.timer_settings.timer_title_bold,t.dataset.timerTitleCenter=this.settings.timer_settings.timer_title_center,t.dataset.timerTitleItalic=this.settings.timer_settings.timer_title_italic,t.dataset.timerTitleSize=this.settings.timer_settings.timer_title_size,this.settings.locale_settings){if("undefined"!=typeof Shopify&&void 0!==Shopify.locale){let e=Shopify.locale.substring(0,2);void 0!==this.settings.locale_settings[e]&&(t.dataset.timerTitle=this.settings.locale_settings[e].texts.timer_title,t.dataset.timerDay=this.settings.locale_settings[e].texts.day_label,t.dataset.timerDays=this.settings.locale_settings[e].texts.days_label,t.dataset.timerHour=this.settings.locale_settings[e].texts.hour_label,t.dataset.timerHours=this.settings.locale_settings[e].texts.hours_label,t.dataset.timerMinute=this.settings.locale_settings[e].texts.minute_label,t.dataset.timerMinutes=this.settings.locale_settings[e].texts.minutes_label,t.dataset.timerSec=this.settings.locale_settings[e].texts.second_label,t.dataset.timerSecs=this.settings.locale_settings[e].texts.seconds_label)}}else t.dataset.title=this.settings.timer_settings.title;return""!=this.width&&(t.style.width=this.width),t},insertBefore:function(t,e){e.parentNode.insertBefore(t,e)},insertInner:function(t,e){e.insertAdjacentElement("afterbegin",t)},insertAfter:function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},replace_code:function(t){for(var e=t.childNodes,i=e.length-1;i>-1;--i)if(e[i].hasChildNodes&&this.replace_code(e[i]),8==e[i].nodeType){e[i].parentNode.childNodes;"easysale_countdown_timer"==e[i].data.trim()&&(parentDiv=e[i].parentNode,div_timer=this.build_div_timer(),parentDiv.replaceChild(div_timer,e[i]))}}};t.init(),document.querySelector("body").addEventListener("updateCT",function(){t.init()})}();