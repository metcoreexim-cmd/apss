customElements.get("mobile-sticky-bar")||customElements.define("mobile-sticky-bar",class extends HTMLElement{constructor(){super(),this.classes={enabled:"mobile-sticky-bar-enabled",isShow:"mobile-sticky-bar-up",isHide:"mobile-sticky-bar-down"},this.compareToggleUnsubscriber=FoxTheme.pubsub.subscribe("compare:toggle",this.onCompareToggle.bind(this))}compareToggleUnsubscriber=void 0;connectedCallback(){document.body.classList.add(this.classes.enabled),this.isCompareBarShowing()?this.hide():this.show(),this.lastScrollTop=0,this.scrollHandler=FoxTheme.utils.debounce(this.onScrollHandler.bind(this),10),this.init()}disconnectedCallback(){window.removeEventListener("scroll",this.scrollHandler),this.compareToggleUnsubscriber&&this.compareToggleUnsubscriber()}init(){this.calculateHeight(),window.addEventListener("scroll",this.scrollHandler,!1)}calculateHeight(){requestAnimationFrame(()=>{document.documentElement.style.setProperty("--mobile-sticky-bar-height",`${this.offsetHeight}px`)})}isCompareBarShowing(){return document.body.classList.contains("is-product-comparing")}onCompareToggle(event){event.isActive?this.hide():this.show()}onScrollHandler(){if(this.isCompareBarShowing()){this.hide();return}const offsetTop=document.getElementById("mobileNavStatic").offsetTop,scrollTop=window.scrollY,pointTouch=offsetTop-scrollTop-window.innerHeight;requestAnimationFrame(()=>{this.scrollDirection=scrollTop>this.lastScrollTop?"down":"up",this.lastScrollTop=scrollTop,this.scrollDirection=="up"&&pointTouch>0?this.show():this.hide()})}show(){document.body.classList.remove(this.classes.isHide),document.body.classList.add(this.classes.isShow)}hide(){document.body.classList.remove(this.classes.isShow),document.body.classList.add(this.classes.isHide)}});
//# sourceMappingURL=/cdn/shop/t/95/assets/mobile-sticky-bar.js.map?v=160745804561808189391759247758
